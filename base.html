<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Global Rise Blockchain</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Bootstrap CSS & Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">

    <link rel="stylesheet" href="/static/style.css">

    <!-- Favicon links - UPDATED PATHS -->
    <link rel="apple-touch-icon" sizes="180x180" href="/static/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/static/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/static/favicon-16x16.png">
    <link rel="manifest" href="/static/site.webmanifest">
    <link rel="shortcut icon" href="/static/favicon.ico">

    <style>
        /* Navbar */
        .navbar {
            background: linear-gradient(90deg, #358a9f, #2f2f30);
            padding: 0.7rem 1rem;
        }
        .navbar-brand img {
            height: 55px;
            max-height: 55px;
            transition: transform 0.2s ease;
        }
        .navbar-brand img:hover {
            transform: scale(1.05);
        }
        .navbar-brand span {
            font-size: 1.25rem;
            font-weight: 600;
        }
        .nav-link {
            color: #f8f9fa !important;
            margin: 0 6px;
            font-weight: 500;
            border-radius: 6px;
            transition: background 0.3s, color 0.3s;
        }
        .nav-link:hover {
            background-color: rgba(255, 255, 255, 0.15);
            color: #ffffff !important;
        }
        .navbar-toggler {
            border: none;
        }
        .navbar-toggler:focus {
            box-shadow: none;
        }
        /* Logout button */
        .logout-btn {
            background-color: #3e3e3f;
            border: none;
            border-radius: 6px;
            padding: 6px 14px;
            transition: background 0.3s;
        }
        .logout-btn:hover {
            background-color: #565657;
        }
        /* Welcome text */
        .welcome-text {
            font-size: 0.95rem;
        }
        /* Main content area */
        .main-content {
            min-height: calc(100vh - 200px);
        }
    </style>
</head>
<body style="background-color: #d3e8f1; color: #2f2f30;">

<!-- Translator will be loaded here -->
<div id="translator-container"></div>

<header>
    <nav class="navbar navbar-expand-lg navbar-dark shadow-sm">
        <div class="container-fluid">

            <!-- Brand - UPDATED PATH -->
            <a class="navbar-brand d-flex align-items-center text-white" href="index.html">
                <img src="/static/GB LOGO.png" alt="Logo">
                <span class="ms-2">Global Rise Blockchain</span>
            </a>

            <!-- Hamburger button -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarMenu">
                <span class="navbar-toggler-icon"></span>
            </button>

            <!-- Menu - UPDATED PATHS -->
            <div class="collapse navbar-collapse" id="navbarMenu">
                <ul class="navbar-nav ms-auto align-items-lg-center">

                    <!-- Public Links -->
                    <li class="nav-item"><a class="nav-link" href="index.html"><i class="bi bi-house-door"></i> Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="register.html"><i class="bi bi-person-plus"></i> Register</a></li>
                    <li class="nav-item"><a class="nav-link" href="login.html"><i class="bi bi-box-arrow-in-right"></i> Login</a></li>
                    <li class="nav-item"><a class="nav-link" href="payment.html"><i class="bi bi-credit-card"></i> Payment</a></li>
                    <li class="nav-item"><a class="nav-link" href="404.html"><i class="bi bi-exclamation-triangle"></i> Contact Admin</a></li>

                    <!-- User-specific links (will be shown/hidden by JavaScript) -->
                    <li class="nav-item" id="dashboard-link" style="display: none;">
                        <a class="nav-link" href="dashboard.html"><i class="bi bi-speedometer2"></i> Dashboard</a>
                    </li>

                    <!-- Welcome message (dynamic) -->
                    <li class="nav-item me-3" id="welcome-message" style="display: none;">
                        <span class="text-white fw-semibold d-flex align-items-center welcome-text">
                            <i class="bi bi-person-circle me-2 fs-5"></i> 
                            Welcome, <span id="username-display" class="ms-1 text-capitalize"></span>
                        </span>
                    </li>

                    <!-- Logout button (dynamic) -->
                    <li class="nav-item" id="logout-button" style="display: none;">
                        <a href="#" class="btn text-white fw-semibold logout-btn" onclick="logout()">
                            <i class="bi bi-box-arrow-right me-1"></i> Logout
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</header>

<main class="container py-4 main-content">
    <!-- Content will be inserted here by JavaScript -->
    <div id="content-area">
        <!-- Default content or loading message -->
        <div class="text-center py-5">
            <div class="spinner-border text-primary" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
            <p class="mt-3">Loading content...</p>
        </div>
    </div>
</main>

<footer class="text-center text-white py-3" style="background-color: #1f1f1f;">
    <p class="mb-0">&copy; 2025 Global Rise Blockchain. All rights reserved.</p>
</footer>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<script>
    // User session management for static site
    function checkUserSession() {
        const user = localStorage.getItem('currentUser');
        const isLoggedIn = localStorage.getItem('isLoggedIn');
        
        if (isLoggedIn === 'true' && user) {
            // Show user-specific elements
            document.getElementById('dashboard-link').style.display = 'block';
            document.getElementById('welcome-message').style.display = 'block';
            document.getElementById('logout-button').style.display = 'block';
            document.getElementById('username-display').textContent = user;
            
            // Hide login/register links
            document.querySelectorAll('.nav-link[href="login.html"]').forEach(el => {
                el.parentElement.style.display = 'none';
            });
            document.querySelectorAll('.nav-link[href="register.html"]').forEach(el => {
                el.parentElement.style.display = 'none';
            });
        } else {
            // Show public links, hide user-specific elements
            document.getElementById('dashboard-link').style.display = 'none';
            document.getElementById('welcome-message').style.display = 'none';
            document.getElementById('logout-button').style.display = 'none';
        }
    }

    function logout() {
        localStorage.removeItem('currentUser');
        localStorage.removeItem('isLoggedIn');
        window.location.href = 'index.html';
    }

    // Load translator
    function loadTranslator() {
        fetch('translator.html')
            .then(response => response.text())
            .then(html => {
                document.getElementById('translator-container').innerHTML = html;
            })
            .catch(err => {
                console.log('Translator not available');
            });
    }

    // Initialize when page loads
    document.addEventListener('DOMContentLoaded', function() {
        checkUserSession();
        loadTranslator();
    });
</script>
</body>
</html>